## 分析当前实现

当前的MarksManager.cs文件实现了以下逻辑：
1. 遍历所有标记，检查是否应该激活
2. 对于新解锁的标记（`previousScriptIndex < pair.Value`），添加高亮效果
3. 对于之前解锁的标记（`pair.Value <= previousScriptIndex`），移除高亮效果
4. 更新`previousScriptIndex`为当前值

## 问题分析

用户反馈：
- 所有圈圈都有高亮效果，而不是只有新解锁的
- 要求每一关每一关地写，共五关

## 解决方案

### 1. 修改MarksManager.cs文件

- **重写CheckMarksState方法**：
  - 移除复杂的逻辑，使用更直接的方式
  - 为每一关单独处理高亮效果
  - 确保只有当前最新解锁的关卡标记有高亮效果
  - 其他已解锁关卡的标记不显示高亮效果

- **具体实现**：
  - 获取当前解锁的最大关卡索引
  - 遍历所有标记，为每个标记设置正确的激活状态
  - 只为索引等于当前最大关卡索引的标记添加高亮效果
  - 为所有其他已解锁标记移除高亮效果

### 2. 确保逻辑简单直接

- 避免使用复杂的条件判断
- 确保每一关的逻辑清晰易懂
- 硬编码处理五关的情况，确保准确性

### 3. 验证修改

- 运行代码诊断工具，确保没有编译错误
- 测试在编辑器中的效果，确保只有最新解锁的关卡标记有高亮效果
- 构建验证版本，确保在exe中也能看到效果

## 预期结果

- 当解锁第1关时，只有第1关的标记显示高亮效果
- 当解锁第2关时，只有第2关的标记显示高亮效果，第1关的标记不显示
- 以此类推，直到第5关
- 效果在编辑器和构建版本中都能正常显示