## 分析当前实现

当前的MarksManager.cs文件实现了以下逻辑：
1. 检查每个标记是否应该被激活（`pair.Value <= playerScriptIndex`）
2. 对于新激活的标记（`!pair.Key.activeSelf`），检查是否是新解锁的（`previousScriptIndex < pair.Value`）
3. 如果是新解锁的，调用`ApplyHighlightEffect(pair.Key)`和`markComponent.UnlockThisMark()`

## 问题分析

当前实现的问题：
- 没有为之前解锁的标记移除高亮效果
- 可能会导致所有解锁的标记都有高亮效果，而不仅仅是新解锁的

## 解决方案

### 1. 修改MarksManager.cs文件

- **修改CheckMarksState方法**：
  - 为之前解锁的标记（即`pair.Value <= previousScriptIndex`）移除高亮效果
  - 确保只有当前新解锁的标记（即`previousScriptIndex < pair.Value <= playerScriptIndex`）添加高亮效果
  - 这样可以确保每次只有最新解锁的标记显示高亮效果

### 2. 确保Mark.cs文件与逻辑兼容

- 确保`UnlockThisMark()`方法只在新解锁时被调用
- 确保`StopHighlight()`方法能正确停止高亮效果

### 3. 验证修改

- 运行代码诊断工具，确保没有编译错误
- 测试在编辑器中的效果，确保只有新解锁的标记显示高亮效果
- 构建验证版本，确保在exe中也能看到效果

## 预期结果

- 每次解锁新关卡时，只有新解锁的标记会显示黄色高亮效果
- 之前解锁的标记不会显示高亮效果
- 效果在编辑器和构建版本中都能正常显示